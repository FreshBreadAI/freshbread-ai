<!--
  webflow-index.html
  For embedding the Homepage Roast app on Webflow.
  Loads all assets directly from the GitHub repo via jsDelivr CDN.
  Make sure your repo is public and up to date!
  Repo: https://github.com/FreshBreadAI/freshbread-ai/tree/main/homepage-roast-app
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Load CSS from GitHub raw CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FreshBreadAI/freshbread-ai@main/homepage-roast-app30-04-2025-1.8/css/style.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <div id="freshbread-roast-app"></div>
  <script>
    fetch('https://cdn.jsdelivr.net/gh/FreshBreadAI/freshbread-ai@main/homepage-roast-app30-04-2025-1.8/index.html')
      .then(response => response.text())
      .then(html => {
        // Extract only the content inside <body>...</body>
        const match = html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);
        const appContainer = document.getElementById('freshbread-roast-app');
        if (appContainer && match && match[1]) {
            appContainer.innerHTML = match[1];

            // --- Dynamically Load Scripts AFTER HTML is injected ---
            const scripts = [
                'https://cdn.jsdelivr.net/gh/FreshBreadAI/freshbread-ai@main/homepage-roast-app30-04-2025-1.8/js/config.js',
                'https://cdn.jsdelivr.net/gh/FreshBreadAI/freshbread-ai@main/homepage-roast-app30-04-2025-1.8/js/api.js',
                'https://cdn.jsdelivr.net/gh/FreshBreadAI/freshbread-ai@main/homepage-roast-app30-04-2025-1.8/js/ui.js',
                'https://cdn.jsdelivr.net/gh/FreshBreadAI/freshbread-ai@main/homepage-roast-app30-04-2025-1.8/js/main.js'
            ];

            function loadScript(src) {
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = src;
                    script.onload = resolve;
                    script.onerror = reject;
                    document.body.appendChild(script);
                });
            }

            // Load scripts sequentially
            scripts.reduce((promise, src) => promise.then(() => loadScript(src)), Promise.resolve())
                .then(() => console.log('All dependent scripts loaded successfully.'))
                .catch(err => console.error('Error loading scripts:', err));
            // --- End Script Loading ---

        } else {
            console.error('Could not find app container or extract body content from fetched HTML.');
        }
      })
      .catch(error => {
          console.error('Error fetching or processing index.html:', error);
          document.getElementById('freshbread-roast-app').innerHTML = '<p style="color: red;">Error loading the application content.</p>';
      });
  </script>
</body>
</html>
